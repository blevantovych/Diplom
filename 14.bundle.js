(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{272:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFuncPlot=t.getErrorPlot=t.getPlotData=void 0;var l,n=function(){function l(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}}(),r=a(1),o=b(r),u=a(66),i=b(a(298)),c=b(a(273)),f=b(a(276)),s=a(282),d=a(278),p=a(274),m=b(a(277)),h=a(361);a(367);var y=b(a(275));function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var w=t.getPlotData=function(e,t){var a=(0,m.default)(e.spline).slice(-1)[0];return{x:a.x_approx,y:a.approximation,name:"Сегмент "+(t+1)}},E=t.getErrorPlot=function(e){var a=[],l=[];return e.forEach(function(e){var t=(0,m.default)(e.spline).slice(-1)[0].error_plot;a=[].concat(v(a),v(t[0].slice(1,-1))),l=[].concat(v(l),v(t[1].slice(1,-1)))}),{x:a,y:l}},_=t.getFuncPlot=function(e){var a=[[],[]];return e.forEach(function(e){var t=(0,m.default)(e.spline).slice(-1)[0];a[0]=[].concat(v(a[0]),v(t.x_vals)),a[1]=[].concat(v(a[1]),v(t.y_vals))}),{x:a[0],y:a[1],name:"Графік функції"}},x=(0,u.inject)("loader")(l=(0,u.observer)(l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={data:null,allowed_error:.5,xPoints:[]},e.clickCalcHandler=e.clickCalcHandler.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"clickCalcHandler",value:function(e,t,a,l){var n=this;this.props.loader.showLoader(),this.setState({xPoints:e}),fetch(p.MINMAX_SPLINE_DISCRETE_URL,{method:"POST",body:JSON.stringify({x_vals:e,y_vals:t,deg:a,allowed_error:+this.state.allowed_error,pinnedPoints:l.map(function(e){return+e})})}).then(function(e){return e.json()}).then(function(e){n.props.loader.hideLoader(),n.setState({data:(0,m.default)(e)})}).catch(function(e){e.status;e.errPromise.then(function(e){(0,h.toast)(e.message),n.props.loader.hideLoader()})})}},{key:"render",value:function(){var a=this;return o.default.createElement("div",null,o.default.createElement(h.ToastContainer,{hideProgressBar:!0}),o.default.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},o.default.createElement(s.TextField,{floatingLabelText:"Допустима похибка",type:"number",value:this.state.allowed_error||"",onChange:function(e){return a.setState({allowed_error:e.target.value})}}),o.default.createElement(i.default,{onCalcClick:this.clickCalcHandler,pinPoints:!0})),this.state.data?[o.default.createElement(c.default,{key:"plot",layout:{title:"Апроксимація мінімаксними сплайнами"},data:[].concat(v(this.state.data.map(w)),[_(this.state.data)])}),o.default.createElement(c.default,{key:"error_plot",layout:{title:"Графік функції похибки"},data:[E(this.state.data)]}),o.default.createElement(d.Table,{key:"table",fixedHeader:!1,style:{width:"auto",tableLayout:"auto"}},o.default.createElement(d.TableBody,{displayRowCheckbox:!1},o.default.createElement(d.TableRow,null,o.default.createElement(d.TableRowColumn,null,"Сегмент"),o.default.createElement(d.TableRowColumn,null,"Максимальна похибка"),o.default.createElement(d.TableRowColumn,null,"Інтервал"),o.default.createElement(d.TableRowColumn,null,"Аналітичний вигляд")),this.state.data.map(function(e,t){return o.default.createElement(d.TableRow,{key:t},o.default.createElement(d.TableRowColumn,null,t+1),o.default.createElement(d.TableRowColumn,null,e.max_error.toFixed(3)),o.default.createElement(d.TableRowColumn,null,o.default.createElement(f.default,{formula:function(e,t){console.log();var a=t.interval,l=e[a[0]],n=e[a[1]];return"["+l.toFixed(3)+";\n        "+n.toFixed(3)+"]"}(a.state.xPoints,e)})),o.default.createElement(d.TableRowColumn,null,o.default.createElement(f.default,{formula:(0,m.default)(e.spline).slice(-1)[0].formula.replace((0,y.default)(4),"$1")})))})))]:null)}}]),t}())||l)||l;t.default=x},277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var a in e)t.push(e[a]);return t}}}]);